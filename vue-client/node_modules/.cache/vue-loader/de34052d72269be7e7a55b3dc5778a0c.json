{"remainingRequest":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/spineor/Downloads/aelis4-web/vue-client/src/views/warehouse/orderEntry/components/unitsDetail/UnitsDetailDialog.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&","dependencies":[{"path":"/home/spineor/Downloads/aelis4-web/vue-client/src/views/warehouse/orderEntry/components/unitsDetail/UnitsDetailDialog.vue","mtime":1562577473000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/sass-loader/lib/loader.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.search-unitid-div {\n  padding: 0px !important;\n  margin-bottom: 20px !important;\n}\n\n.label-search-unitid {\n  text-align: left !important;\n}\n",{"version":3,"sources":["UnitsDetailDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4QA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"UnitsDetailDialog.vue","sourceRoot":"src/views/warehouse/orderEntry/components/unitsDetail","sourcesContent":["<template>\n<span>\n    <i class=\"el-icon-search header-info-dialog-value icon-action\" id=\"btn-units-detail\" @click=\"handleOpenDialog\" size=\"mini\" icon=\"el-icon-plus\"></i>\n    <el-dialog\n    :close-on-click-modal=\"false\"\n    :title=\"$t('warehouse.orderEntry.unitsDetailTitle')\"\n    :visible.sync=\"dialogVisible\"\n    width=\"77%\"\n    :before-close=\"handleClose\">\n    <el-col :span=\"4\">\n      <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.orderNumber') }}:</label>\n    </el-col>\n    <el-col :span=\"4\">\n      <span class=\"span-small-list \"> {{ orderEntry.headerUnitList.orderNumber }} </span>\n    </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.shipDate') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.shipDate | moment(\"MM/DD/YYYY\") }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.consignee') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.consigneeName }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.height') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.height }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.length') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.length }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.width') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.width }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.productLong') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.productCode }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.productDescription') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.productDescription }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.numberOfUnits') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.numberUnits }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.unitOfMeasure') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.unitOfMeasureName }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.measure') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.measure }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.poNumber') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.poNumber }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.status') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\">{{ $t('warehouse.orderEntry.finalized') }}</span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.farmBroker') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\">{{ orderEntry.headerUnitList.farmName }}</span>\n      </el-col>\n      <div>\n        <span class=\"title-list\">{{ $t('warehouse.orderEntry.units') }}</span>\n        <div>\n          <el-col :span=\"3\" class=\"search-unitid-div\">\n            <label class=\"margin-bottom-small-list label-search-unitid\">{{ $t('warehouse.orderEntry.findUnit') }}:</label>\n          </el-col>\n          <el-col :span=\"4\">\n            <div>\n              <el-input\n                v-model=\"search\"\n                v-alphanumeric-validation\n                maxlength=\"50\"\n                clearable\n                @change=\"handleSearchUnit\"\n                class=\"inline-input\"\n                size=\"mini\"\n                suffix-icon=\"el-icon-search\"\n                id=\"search-unitid\"\n                ref=\"search-unitid\"\n                ></el-input>\n            </div>\n          </el-col>\n        </div>\n      </div>\n        <el-table\n          stripe\n          v-loading=\"orderEntry.loadingSearch\"\n          id=\"units-data-list\"\n          size=\"mini\"\n          tooltip-effect=\"dark\"\n          sortable\n          width=\"80%\"\n          class=\"dark-blue-table\"\n          :empty-text=\"$t('common.notAbleToFindRecords')\"\n          :data=\"orderEntry.searchUnitResponse.data\">\n          <el-table-column\n              prop=\"unitId\"\n              :label=\"$t('common.unitID')\"\n              align=\"center\"\n              min-width=\"100\">\n              <template slot-scope=\"scope\">\n                <span class=\"font-size-14px\"> {{ scope.row.unitId }} </span>\n              </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\" min-width=\"100\"\n            :label=\"$t('common.actions')\">\n            <template slot-scope=\"scope\">\n              <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('warehouse.orderEntry.print')\" placement=\"top-start\">\n                <print-unit-label :unitId=\"scope.row.unitId\" :labelPrinted.sync=\"scope.row.labelPrinted\" />\n              </el-tooltip>\n              <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('warehouse.orderEntry.delete')\" placement=\"top-start\">\n                <i v-if=\"showDeleteButton()\" class=\"el-icon-delete icon-action\" type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row.unitId, scope.row.shipDate, orderEntry.searchUnitResponse.data)\"></i>\n              </el-tooltip>\n            </template>\n          </el-table-column>\n      </el-table>\n      <el-pagination\n        @size-change=\"handleSearchChangeLimit\"\n        @current-change=\"findUnitsByConsignee\"\n        :current-page.sync=\"orderEntry.actualFiltersUnits.page\"\n        :page-size=\"orderEntry.actualFiltersUnits.rows\"\n        :page-sizes=\"sizes\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"orderEntry.searchUnitResponse.totalRows\">\n      </el-pagination>\n    <span slot=\"footer\" class=\"dialog-footer\">\n        &nbsp;\n    </span>\n    </el-dialog>\n</span>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport constants from '@/utils/constants';\nimport PrintUnitLabel from './PrintUnitLabel';\n\nexport default {\n  components: { PrintUnitLabel },\n  computed: {\n    ...mapGetters([\n      'orderEntry'\n    ])\n  },\n  props: {\n    unitsConsolidateId: {\n      type: Number,\n      default: null\n    }\n  },\n  data() {\n    return {\n      dialogVisible: false,\n      sizes: constants.TABLES.DEFAULT_LIMIT_SIZES,\n      search: ''\n    };\n  },\n  methods: {\n    handleClose(done) {\n      this.$store.dispatch('orderEntry/search', {});\n      done();\n    },\n    handleOpenDialog() {\n      this.dialogVisible = true;\n      this.findUnitsByConsignee(constants.TABLES.DEFAULT_PAGE);\n    },\n    handleSearchChangeLimit(val) {\n      this.$store.dispatch('orderEntry/findUnits', { rows: val, page: constants.TABLES.DEFAULT_PAGE });\n    },\n    handleSearchUnit() {\n      this.findUnitsByConsignee(constants.TABLES.DEFAULT_PAGE);\n    },\n    findUnitsByConsignee(page) {\n      const loading = this.$loading(constants.LOADING.DEFAULT_CONFIG);\n      this.$store.dispatch('orderEntry/findUnits', { unitsConsolidateId: this.unitsConsolidateId, unitId: this.search, page }).then(() => {\n        loading.close();\n      }).catch((error) => {\n        this.$message({\n          showClose: true,\n          message: error.response.data.message,\n          type: 'error',\n          duration: constants.duration\n        });\n        loading.close();\n      });\n    },\n    handleDeleteAction(id, close) {\n      const loading = this.$loading(constants.LOADING.DEFAULT_CONFIG);\n      this.$store.dispatch('orderEntry/deleteUnit', id).then((response) => {\n        loading.close();\n        this.$message.success(response.message);\n        this.$store.dispatch('orderEntry/search', {});\n        if (close) {\n          this.dialogVisible = false;\n        } else {\n          this.$store.dispatch('orderEntry/findUnits', { id: this.unitsConsolidateId });\n        }\n      }).catch((error) => {\n        loading.close();\n        this.$message({\n          showClose: true,\n          message: error.response.data.message,\n          type: 'error',\n          duration: constants.MESSAGES.LONG_DURATION\n        });\n      });\n    },\n    handleDelete(id, shipDate) {\n      let message = this.$t('warehouse.orderEntry.unitDeleteConfirmation');\n      message = message.replace('[id]', id).replace('[shipDate]', shipDate);\n\n      if (this.orderEntry.searchUnitResponse.data.length === 1) {\n        return this.$confirm(this.$t('warehouse.orderEntry.lastUnitDeleteConfirmation'), { confirmButtonText: this.$t('common.yes') })\n          .then(() => {\n            this.handleDeleteAction(id, true);\n          })\n          .catch(() => {});\n      }\n      return this.$confirm(message, { confirmButtonText: this.$t('common.yes') })\n        .then(() => {\n          this.handleDeleteAction(id);\n        });\n    },\n    showDeleteButton() {\n      const hasDeletePermission = this.$can(this.permissions.DATA_ENTRY.DELETE_AFTER_CUTOFF_FINALIZED, this.orderEntry.headerUnitList.status)\n           || this.$can(this.permissions.DATA_ENTRY.DELETE_AFTER_CUTOFF_PENDING, this.orderEntry.headerUnitList.status)\n           || this.$can(this.permissions.DATA_ENTRY.DELETE_BEFORE_CUTOFF_FINALIZED, this.orderEntry.headerUnitList.status)\n           || this.$can(this.permissions.DATA_ENTRY.DELETE_BEFORE_CUTOFF_PENDING, this.orderEntry.headerUnitList.status);\n      return hasDeletePermission;\n    }\n  }\n};\n</script>\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n  .search-unitid-div {\n    padding: 0px !important;\n    margin-bottom: 20px !important;\n  }\n\n  .label-search-unitid {\n    text-align: left !important;\n  }\n</style>\n"]}]}