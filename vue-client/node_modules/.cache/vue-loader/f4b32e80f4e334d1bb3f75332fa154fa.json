{"remainingRequest":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/spineor/Downloads/aelis4-web/vue-client/src/components/ShipperList/index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&","dependencies":[{"path":"/home/spineor/Downloads/aelis4-web/vue-client/src/components/ShipperList/index.vue","mtime":1566984596000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/sass-loader/lib/loader.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.shipper-container {\n    display: flex;\n    justify-content: center;\n    .shipper-group {\n        position: fixed;\n        width: 600px;\n        z-index: 1000;\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: center;\n        align-content: center;\n        .shipper-selected {\n            text-align: center;\n            width: 300px;\n            color: #43425D;\n            font-size: 10px;\n            font-weight: bold;\n            position: relative;\n            border-radius: 5px;\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: center;\n            align-content: center;\n            .is-circle {\n                padding: 1px 2px 2px 2px;\n                background-color: #43425D;\n                color: white;\n                margin-left: 7px;\n            }\n            i {\n                font-size: 9px;\n                cursor: pointer;\n                padding: 1px 1px 0px 1px;\n            }\n            &:before {\n                content: \"\";\n                position: absolute;\n                background-color: #cdd7df;\n                top: -4%;\n                bottom: -11%; left: -3%; right: -3%;\n                border-radius: 5px;\n                z-index: -1;\n                height: 35px;\n                box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.16);\n                transform: perspective(10em) rotateX(-30deg);\n            }\n            .shipper-label {\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                max-width: 260px;\n                display: inline-block;\n                margin-top: 9px;\n            }\n            .shipper-change {\n                margin-top: 7px;\n            }\n        }\n        .shipper-list {\n            width: 400px;\n            height: 440px;\n            background-color: white;\n            border-radius: 10px;\n            box-shadow: 6px 6px 15px rgba(0, 0, 0, 0.16);\n            .title {\n                display: flex;\n                flex-wrap: wrap;\n                justify-content: center;\n                align-content: center;\n                height: 60px;\n                background-color: #00335B;\n                color: white;\n                font-size: 18px;\n            }\n            .search-shippers-div {\n                padding: 20px 40px 10px 40px;\n            }\n            .list {\n                background-color: white;\n                color: #00335B;\n                height: 280px;\n                overflow: auto;\n                font-size: 12px;\n                .list-item {\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    height: 35px;\n                    border-bottom: solid 1px #dbd9d9;\n                    margin: 0px 25px;\n                    .span-name {\n                        width: 90%;\n                        text-align: left;\n                        overflow: hidden;\n                        text-overflow: ellipsis;\n                        white-space: nowrap;\n                        padding: 0px 10px 0px 0px;\n                    }\n                    .span-check {\n                        width: 10%;\n                        text-align: right;\n                        margin-top: 3px;\n                        margin-left: 15px;\n                    }\n                }\n            }\n            .loading-shippers {\n                text-align: center;\n                margin-top: 0px;\n                img {\n                    width: 40px;\n                }\n            }\n            .scroll-ellipsis {\n                text-align: center;\n                margin-top: 0px;\n            }\n        }\n    }\n}\n.shipper-container-overlay {\n    min-height: calc(100vh - 50px);\n    width: 100%;\n    position: fixed;\n    overflow: hidden;\n    background-color: #d3d2d2;\n    opacity: 0.5;\n    z-index: 2;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/ShipperList","sourcesContent":["<template>\n  <div class=\"shipper-container\">\n      <div class=\"shipper-group\">\n        <transition name=\"slide\">\n            <div class=\"shipper-list\" v-if=\"show\">\n                <div class=\"title\">\n                    {{ $t('shipperComponent.shipperList') }}\n                </div>\n                <div class=\"search-shippers-div\">\n                  <el-input\n                    v-model=\"searchText\"\n                    v-alphanumeric-validation\n                    maxlength=\"50\"\n                    clearable\n                    @change=\"search\"\n                    class=\"inline-input\"\n                    size=\"mini\"\n                    suffix-icon=\"el-icon-search\"\n                    id=\"search-shipper-list\"\n                    ref=\"search-shipper-list\"\n                    ></el-input>\n                </div>\n                <div class=\"list\"\n                    infinite-scroll-immediate\n                    infinite-scroll-distance=\"100\"\n                    v-infinite-scroll=\"search\"\n                    infinite-scroll-disabled=\"disabled\">\n                    <div v-bind:key=\"shipper.id\" v-for=\"shipper in shippers.list\" class=\"list-item\">\n                       <span class=\"span-check\">\n                            <el-radio v-model=\"user.shipperAccountNumber\" :label=\"shipper.number\" @change=\"change(shipper)\">\n                                &nbsp;\n                            </el-radio>\n                        </span>\n                        <span class=\"span-name\">\n                            {{ shipper.name }} - {{ shipper.number }}\n                        </span>\n                    </div>\n                </div>\n                <p class=\"loading-shippers\" v-if=\"shippers.loading\"><img src=\"@/assets/svg/loading.svg\" alt=\"loading\"/></p>\n                <p class=\"scroll-ellipsis\" v-if=\"!noMore && !shippers.loading\"> ... </p>\n            </div>\n        </transition>\n        <div class=\"shipper-selected\">\n            <span class=\"shipper-label\"> {{ user.shipperAccountLabel }} </span>\n            <span class=\"shipper-change\">\n                <el-button icon=\"fa fa-random\"  size=\"mini\" circle @click=\"openList\" v-if=\"shippers.multipleShippers && user.shipperAccountNumber\"></el-button>\n            </span>\n        </div>\n      </div>\n    <div class=\"shipper-container-overlay\"  v-if=\"show\"></div>\n</div>\n</template>\n\n<script>\nimport { Loading } from 'element-ui';\nimport { mapGetters } from 'vuex';\nimport constants from '@/utils/constants';\n\nexport default {\n  name: 'shipperList',\n  props: {\n    /* The vuex string array actions to be called when select, this actions will be called in the order position in waterfall mode. */\n    actionStrSelectChained: {\n      type: Array,\n      default: null\n    }\n  },\n  data() {\n    return {\n      show: false,\n      searchText: ''\n    };\n  },\n  computed: {\n    ...mapGetters([\n      'shippers',\n      'user',\n      'orderEntry'\n    ]),\n    noMore() {\n      return this.shippers.list.length >= this.shippers.totalRows;\n    },\n    disabled() {\n      return this.shippers.loading || this.noMore;\n    }\n  },\n  methods: {\n    search(resetSearch) {\n      // If sarch text is changed or reset search is mandatory we call to resetShipperList\n      if ((this.searchText !== this.shippers.filters.search) || resetSearch) {\n        this.$store.dispatch('account/resetShipperList');\n      }\n      return this.$store.dispatch('account/getShipperListScroll', this.searchText);\n    },\n    async change(shipperSelected) {\n      this.$store.dispatch('setUserShipperAccount', shipperSelected);\n      const loading = Loading.service(constants.LOADING.DEFAULT_CONFIG);\n      await this.callSelectAction();\n      loading.close();\n      this.show = false;\n    },\n    openList() {\n      this.show = !this.show;\n      // Its necessary nextTick because we need to wait the component render.\n      if (this.show) {\n        this.$nextTick(() => {\n          this.$refs['search-shipper-list'].focus();\n        });\n      }\n    },\n    async callSelectAction() {\n      if (this.actionStrSelectChained) {\n        for (const action of this.actionStrSelectChained) {\n          await this.$store.dispatch(action);\n        }\n      }\n    }\n  },\n  async mounted() {\n    const resetSearch = true;\n    if (this.user.shipperAccountNumber) {\n      this.callSelectAction();\n      // Call reset search but without loading because the shippers is already selected, and no need await.\n      this.search(resetSearch);\n    } else {\n      const loading = Loading.service(constants.LOADING.DEFAULT_CONFIG);\n      await this.search(resetSearch);\n      this.show = this.shippers.list && this.shippers.list.length > 1;\n\n      // SHIPPERS Users Normal Flow: If the list of shippers only returns 1, then we select it by default.\n      if (this.shippers.list && this.shippers.list.length === 1) {\n        this.change(this.shippers.list[0]);\n      }\n      loading.close();\n    }\n\n    // Its necessary nextTick because we need to wait the component render.\n    if (this.show) {\n      this.$nextTick(() => {\n        this.$refs['search-shipper-list'].focus();\n      });\n    }\n  }\n};\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n    .shipper-container {\n        display: flex;\n        justify-content: center;\n        .shipper-group {\n            position: fixed;\n            width: 600px;\n            z-index: 1000;\n            display: flex;\n            flex-wrap: wrap;\n            justify-content: center;\n            align-content: center;\n            .shipper-selected {\n                text-align: center;\n                width: 300px;\n                color: #43425D;\n                font-size: 10px;\n                font-weight: bold;\n                position: relative;\n                border-radius: 5px;\n                display: flex;\n                flex-wrap: wrap;\n                justify-content: center;\n                align-content: center;\n                .is-circle {\n                    padding: 1px 2px 2px 2px;\n                    background-color: #43425D;\n                    color: white;\n                    margin-left: 7px;\n                }\n                i {\n                    font-size: 9px;\n                    cursor: pointer;\n                    padding: 1px 1px 0px 1px;\n                }\n                &:before {\n                    content: \"\";\n                    position: absolute;\n                    background-color: #cdd7df;\n                    top: -4%;\n                    bottom: -11%; left: -3%; right: -3%;\n                    border-radius: 5px;\n                    z-index: -1;\n                    height: 35px;\n                    box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.16);\n                    transform: perspective(10em) rotateX(-30deg);\n                }\n                .shipper-label {\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                    max-width: 260px;\n                    display: inline-block;\n                    margin-top: 9px;\n                }\n                .shipper-change {\n                    margin-top: 7px;\n                }\n            }\n            .shipper-list {\n                width: 400px;\n                height: 440px;\n                background-color: white;\n                border-radius: 10px;\n                box-shadow: 6px 6px 15px rgba(0, 0, 0, 0.16);\n                .title {\n                    display: flex;\n                    flex-wrap: wrap;\n                    justify-content: center;\n                    align-content: center;\n                    height: 60px;\n                    background-color: #00335B;\n                    color: white;\n                    font-size: 18px;\n                }\n                .search-shippers-div {\n                    padding: 20px 40px 10px 40px;\n                }\n                .list {\n                    background-color: white;\n                    color: #00335B;\n                    height: 280px;\n                    overflow: auto;\n                    font-size: 12px;\n                    .list-item {\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        height: 35px;\n                        border-bottom: solid 1px #dbd9d9;\n                        margin: 0px 25px;\n                        .span-name {\n                            width: 90%;\n                            text-align: left;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            padding: 0px 10px 0px 0px;\n                        }\n                        .span-check {\n                            width: 10%;\n                            text-align: right;\n                            margin-top: 3px;\n                            margin-left: 15px;\n                        }\n                    }\n                }\n                .loading-shippers {\n                    text-align: center;\n                    margin-top: 0px;\n                    img {\n                        width: 40px;\n                    }\n                }\n                .scroll-ellipsis {\n                    text-align: center;\n                    margin-top: 0px;\n                }\n            }\n        }\n    }\n    .shipper-container-overlay {\n        min-height: calc(100vh - 50px);\n        width: 100%;\n        position: fixed;\n        overflow: hidden;\n        background-color: #d3d2d2;\n        opacity: 0.5;\n        z-index: 2;\n    }\n</style>\n"]}]}