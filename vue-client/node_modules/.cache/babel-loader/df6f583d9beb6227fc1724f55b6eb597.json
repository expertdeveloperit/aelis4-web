{"remainingRequest":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/babel-loader/lib/index.js!/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/spineor/Downloads/aelis4-web/vue-client/src/views/warehouse/extensionRequest/SearchFilter.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/spineor/Downloads/aelis4-web/vue-client/src/views/warehouse/extensionRequest/SearchFilter.vue","mtime":1565009803858},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.regexp.search\";\nimport _defineProperty from \"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport { Loading } from 'element-ui';\nimport constants from '@/utils/constants';\nimport apiConstants from '@/utils/apiConstants';\nimport Autocomplete from '@/components/Autocomplete';\nexport default {\n  name: 'SearchFilters',\n  components: {\n    Autocomplete: Autocomplete\n  },\n  computed: _objectSpread({}, mapGetters(['orderEntry'])),\n  data: function data() {\n    return {\n      searchForm: {\n        shipDate: new Date(),\n        status: constants.ORDER_ENTRY.ORDER_STATUS[0].value,\n        createdByUsername: constants.ORDER_ENTRY.CREATED_BY_OPTIONS[0].value,\n        orderNumber: null,\n        consigneeAccountId: null,\n        consigneeName: null,\n        page: constants.TABLES.DEFAULT_PAGE\n      },\n      activeCollapsibleName: ['search-section'],\n      orderStatusOptions: constants.ORDER_ENTRY.ORDER_STATUS,\n      orderCreatedByOptions: constants.ORDER_ENTRY.CREATED_BY_OPTIONS,\n      urlConsignee: apiConstants.END_POINTS.ACCOUNTS.CONSIGNEE_BY_SHIPPER // value1: '',\n\n    };\n  },\n  methods: {\n    search: function search(resetSearch) {\n      // If sarch text is changed or reset search is mandatory we call to resetShipperList\n      if (this.searchText !== this.shippers.filters.search || resetSearch) {\n        this.$store.dispatch('account/resetShipperList');\n      }\n\n      return this.$store.dispatch('account/getShipperListScroll', this.searchText);\n    },\n    handleSearch: function handleSearch() {\n      var _this = this;\n\n      this.searchForm.consigneeName = this.$refs['filter-consignee'].getLocalModel();\n      this.$store.dispatch('orderEntry/search', this.searchForm).then(function () {\n        _this.$store.dispatch('orderEntry/getCutoffLimitDate');\n      });\n    },\n\n    /* The datepicker has an issue when change manually, the focus lost. */\n    handleChangeDate: function handleChangeDate() {\n      this.handleSearch();\n      this.$refs['filter-status'].focus();\n    }\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var _this2 = this;\n\n      var resetSearch, loading;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              resetSearch = true;\n\n              if (!this.user.shipperAccountNumber) {\n                _context.next = 6;\n                break;\n              }\n\n              this.callSelectAction(); // Call reset search but without loading because the shippers is already selected, and no need await.\n\n              this.search(resetSearch);\n              _context.next = 12;\n              break;\n\n            case 6:\n              loading = Loading.service(constants.LOADING.DEFAULT_CONFIG);\n              _context.next = 9;\n              return this.search(resetSearch);\n\n            case 9:\n              this.show = this.shippers.list && this.shippers.list.length > 1; // SHIPPERS Users Normal Flow: If the list of shippers only returns 1, then we select it by default.\n\n              if (this.shippers.list && this.shippers.list.length === 1) {\n                this.change(this.shippers.list[0]);\n              }\n\n              loading.close();\n\n            case 12:\n              // Its necessary nextTick because we need to wait the component render.\n              if (this.show) {\n                this.$nextTick(function () {\n                  _this2.$refs['search-shipper-list'].focus();\n                });\n              }\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};",{"version":3,"sources":["SearchFilter.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-col :span=\"24\">\n    <el-collapse v-model=\"orderEntry.filtersOpen\">\n      <el-collapse-item\n        :title=\"$t('warehouse.orderEntry.searchSection')\"\n        name=\"search-section\"\n        id=\"search-section\"\n      >\n        <el-form\n          :model=\"searchForm\"\n          ref=\"searchForm\"\n          id=\"search-form\"\n          v-alphanumeric-validation\n          maxlength=\"100\"\n          clearable\n          label-position=\"right\"\n          size=\"mini\"\n          inline\n        >\n          <el-form-item prop=\"consigneeAccountId\" class=\"consignee-filter consignee-wrp\">\n            <autocomplete\n              :placeholder=\"$t('extensionRequest.shipper')\"\n              v-model=\"searchText\"\n              v-alphanumeric-validation\n              maxlength=\"50\"\n              clearable\n              @change=\"search\"\n              class=\"inline-input\"\n              size=\"mini\"\n              suffix-icon=\"el-icon-search\"\n              id=\"search-shipper-list\"\n              ref=\"search-shipper-list\"\n            />\n            <el-tooltip\n              class=\"item\"\n              effect=\"dark\"\n              :content=\"$t('warehouse.orderEntry.addConsignee')\"\n              placement=\"top-start\"\n            >\n              <add-consignee-shipper-button />\n            </el-tooltip>\n          </el-form-item>\n          <el-form-item\n            class=\"aelTerminal\"\n            :label=\"$t('extensionRequest.aelTerminal')\"\n            prop=\"status\"\n          >\n            <el-select\n              v-model=\"searchForm.status\"\n              id=\"searchForm-status\"\n              ref=\"filter-status\"\n              @change=\"handleSearch\"\n            >\n              <el-option\n                v-for=\"item in orderStatusOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item\n            :label=\"$t('extensionRequest.receivingDate')\"\n            prop=\"shipDate\"\n            class=\"el_label receivingDate\"\n          >\n            <el-date-picker\n              ref=\"filter-datepicker\"\n              @change=\"handleChangeDate\"\n              v-model=\"searchForm.placeholder\"\n              format=\"MM/dd/yyyy\"\n              :placeholder=\"$t('extensionRequest.dateFormat')\"\n              :picker-options=\"orderEntry.shipDatePickerOptions\"\n              class=\"el-dropdown-new drop-sp date-dob\"\n              type=\"date\"\n              id=\"searchForm-ship-date\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item\n            :label=\"$t('extensionRequest.extensionStatus')\"\n            prop=\"status\"\n            class=\"title-input\"\n          >\n            <el-select\n              v-model=\"searchForm.placeholder\"\n              :placeholder=\"$t('extensionRequest.none')\"\n              id=\"searchForm-status\"\n              ref=\"filter-status\"\n              @change=\"handleSearch\"\n            >\n              <el-option\n                v-for=\"item in orderStatusOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item prop=\"orderNumber\" class=\"el-input--mini-new-status ordernumber\">\n            <el-input\n              v-model=\"searchForm.orderNumber\"\n              ref=\"filter-order-number\"\n              v-alphanumeric-validation\n              maxlength=\"25\"\n              clearable\n              :placeholder=\"$t('extensionRequest.orderNumber')\"\n              @clear=\"handleSearch\"\n              v-on:keyup.enter.native=\"handleSearch\"\n              class=\"inline-input\"\n              id=\"searchForm-order-number\"\n            ></el-input>\n          </el-form-item>\n          <el-button class=\"el_button-new\">{{$t('extensionRequest.submit')}}</el-button>\n        </el-form>\n      </el-collapse-item>\n    </el-collapse>\n  </el-col>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport { Loading } from 'element-ui';\nimport constants from '@/utils/constants';\nimport apiConstants from '@/utils/apiConstants';\nimport Autocomplete from '@/components/Autocomplete';\n\nexport default {\n  name: 'SearchFilters',\n  components: { Autocomplete },\n  computed: {\n    ...mapGetters([\n      'orderEntry',\n      // 'user'\n    ])\n  },\n  data() {\n    return {\n      searchForm: {\n        shipDate: new Date(),\n        status: constants.ORDER_ENTRY.ORDER_STATUS[0].value,\n        createdByUsername: constants.ORDER_ENTRY.CREATED_BY_OPTIONS[0].value,\n        orderNumber: null,\n        consigneeAccountId: null,\n        consigneeName: null,\n        page: constants.TABLES.DEFAULT_PAGE\n      },\n      activeCollapsibleName: ['search-section'],\n      orderStatusOptions: constants.ORDER_ENTRY.ORDER_STATUS,\n      orderCreatedByOptions: constants.ORDER_ENTRY.CREATED_BY_OPTIONS,\n      urlConsignee: apiConstants.END_POINTS.ACCOUNTS.CONSIGNEE_BY_SHIPPER\n      // value1: '',\n    };\n  },\n  methods: {\n    search(resetSearch) {\n      // If sarch text is changed or reset search is mandatory we call to resetShipperList\n      if ((this.searchText !== this.shippers.filters.search) || resetSearch) {\n        this.$store.dispatch('account/resetShipperList');\n      }\n      return this.$store.dispatch('account/getShipperListScroll', this.searchText);\n    },\n    handleSearch() {\n      this.searchForm.consigneeName = this.$refs['filter-consignee'].getLocalModel();\n      this.$store.dispatch('orderEntry/search', this.searchForm).then(() => {\n        this.$store.dispatch('orderEntry/getCutoffLimitDate');\n      });\n    },\n    /* The datepicker has an issue when change manually, the focus lost. */\n    handleChangeDate() {\n      this.handleSearch();\n      this.$refs['filter-status'].focus();\n    }\n  },\n  async mounted() {\n    const resetSearch = true;\n    if (this.user.shipperAccountNumber) {\n      this.callSelectAction();\n      // Call reset search but without loading because the shippers is already selected, and no need await.\n      this.search(resetSearch);\n    } else {\n      const loading = Loading.service(constants.LOADING.DEFAULT_CONFIG);\n      await this.search(resetSearch);\n      this.show = this.shippers.list && this.shippers.list.length > 1;\n      // SHIPPERS Users Normal Flow: If the list of shippers only returns 1, then we select it by default.\n      if (this.shippers.list && this.shippers.list.length === 1) {\n        this.change(this.shippers.list[0]);\n      }\n      loading.close();\n    }\n    // Its necessary nextTick because we need to wait the component render.\n    if (this.show) {\n      this.$nextTick(() => {\n        this.$refs['search-shipper-list'].focus();\n      });\n    }\n  }\n};\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n#search-form {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    label {\n      font-size: 10px;\n      padding-left: 15px;\n    }\n    .consignee-filter {\n        width: 30%;\n        white-space: nowrap;\n        margin-right: 0;\n        padding-right: 10px;\n        .el-form-item__content {\n            width: 100%;\n            .el-autocomplete {\n              width: 100%;\n            }\n        }\n    }\n    .aelTerminal {\n      width: 15%;\n      margin-right: 0 !important;\n      padding-right: 10px;\n      display: flex !important;\n      .el-form-item__content {\n         width: calc(100% - 92px);\n      }\n    }\n    .receivingDate {\n        width: 18%;\n         margin-right: 0 !important;\n      padding-right: 10px;\n      display: flex !important;\n        .el-form-item__content {\n         width: calc(100% - 99px);\n         .date-dob input {\n           width: 100%;\n         }\n        }\n    }\n    .title-input {\n      width: 18%;\n      display: flex;\n      margin: 0 !important;\n      padding-right: 10px;\n      .el-form-item__content {\n        width: calc(100% - 110px);\n      }\n    }\n    .ordernumber {\n         width: 15%;\n      margin: 0 !important;\n      margin-right: auto;\n      .el-form-item__content{\n        width: calc(96% - 48px);\n      }\n    }\n    #form-search-button {\n      margin-right: 10px;\n    }\n}\n\n.el_button-new {\n  height: 28px;\n    padding: 0 16px;\n    margin: 0px 0 0px -50px;\n    box-sizing: border-box;\n    float: right;\n    font-size: 12px;\n    border-color: #01355f;\n    color: #01355f;\n\n}\n.ordernumber input {\n  text-align: center;\n}\n.el-input__icon.el-icon-date {\n  display: none;\n}\n.date-dob {\n      width: auto !important;\n}\n.date-dob input {\n     padding: 0 13px !important;\n    width: 110px;\n    height: 28px;\n}\n\n.el_label {\n    line-height: 28px;\n    font-size: 10px;\n    color: #aba9a9;\n}\n@media only screen and (max-width: 1400px) {\n  #search-form {\n\n    .consignee-filter {\n        width: 20%;\n\n    }\n    .aelTerminal {\n      width: 17%;\n    }\n    .receivingDate {\n      width: 20%;\n    }\n    .title-input {\n      width: 21%;\n    }\n    .ordernumber {\n         width: 17%;\n    }\n  }\n}\n@media only screen and (max-width: 1365px) {\n  #search-form {\n\n    .consignee-filter {\n        width: 100%;\n        padding-right: 0;\n    }\n    .aelTerminal, .receivingDate, .title-input {\n         width: 33.333%;\n    }\n    .ordernumber {\n         width: calc(96% - 65px);\n         .el-form-item__content {\n            width: 100%;\n        }\n    }\n  }\n}\n@media only screen and (max-width: 767px) {\n  #search-form {\n    .aelTerminal, .receivingDate, .title-input, .aelTerminal .el-form-item__content .el-select, .receivingDate .el-date-editor, .title-input .el-select {\n         width: 100% !important;\n         padding-right: 0;\n    }\n    .title-input {\n      margin-bottom: 18px !important;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/warehouse/extensionRequest"}]}