{"remainingRequest":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/thread-loader/dist/cjs.js!/home/spineor/Downloads/aelis4-web/vue-client/node_modules/babel-loader/lib/index.js!/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/spineor/Downloads/aelis4-web/vue-client/src/views/warehouse/orderEntry/components/unitsDetail/UnitsDetailDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/spineor/Downloads/aelis4-web/vue-client/src/views/warehouse/orderEntry/components/unitsDetail/UnitsDetailDialog.vue","mtime":1562577473000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _defineProperty from \"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport constants from '@/utils/constants';\nimport PrintUnitLabel from \"./PrintUnitLabel\";\nexport default {\n  components: {\n    PrintUnitLabel: PrintUnitLabel\n  },\n  computed: _objectSpread({}, mapGetters(['orderEntry'])),\n  props: {\n    unitsConsolidateId: {\n      type: Number,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      dialogVisible: false,\n      sizes: constants.TABLES.DEFAULT_LIMIT_SIZES,\n      search: ''\n    };\n  },\n  methods: {\n    handleClose: function handleClose(done) {\n      this.$store.dispatch('orderEntry/search', {});\n      done();\n    },\n    handleOpenDialog: function handleOpenDialog() {\n      this.dialogVisible = true;\n      this.findUnitsByConsignee(constants.TABLES.DEFAULT_PAGE);\n    },\n    handleSearchChangeLimit: function handleSearchChangeLimit(val) {\n      this.$store.dispatch('orderEntry/findUnits', {\n        rows: val,\n        page: constants.TABLES.DEFAULT_PAGE\n      });\n    },\n    handleSearchUnit: function handleSearchUnit() {\n      this.findUnitsByConsignee(constants.TABLES.DEFAULT_PAGE);\n    },\n    findUnitsByConsignee: function findUnitsByConsignee(page) {\n      var _this = this;\n\n      var loading = this.$loading(constants.LOADING.DEFAULT_CONFIG);\n      this.$store.dispatch('orderEntry/findUnits', {\n        unitsConsolidateId: this.unitsConsolidateId,\n        unitId: this.search,\n        page: page\n      }).then(function () {\n        loading.close();\n      }).catch(function (error) {\n        _this.$message({\n          showClose: true,\n          message: error.response.data.message,\n          type: 'error',\n          duration: constants.duration\n        });\n\n        loading.close();\n      });\n    },\n    handleDeleteAction: function handleDeleteAction(id, close) {\n      var _this2 = this;\n\n      var loading = this.$loading(constants.LOADING.DEFAULT_CONFIG);\n      this.$store.dispatch('orderEntry/deleteUnit', id).then(function (response) {\n        loading.close();\n\n        _this2.$message.success(response.message);\n\n        _this2.$store.dispatch('orderEntry/search', {});\n\n        if (close) {\n          _this2.dialogVisible = false;\n        } else {\n          _this2.$store.dispatch('orderEntry/findUnits', {\n            id: _this2.unitsConsolidateId\n          });\n        }\n      }).catch(function (error) {\n        loading.close();\n\n        _this2.$message({\n          showClose: true,\n          message: error.response.data.message,\n          type: 'error',\n          duration: constants.MESSAGES.LONG_DURATION\n        });\n      });\n    },\n    handleDelete: function handleDelete(id, shipDate) {\n      var _this3 = this;\n\n      var message = this.$t('warehouse.orderEntry.unitDeleteConfirmation');\n      message = message.replace('[id]', id).replace('[shipDate]', shipDate);\n\n      if (this.orderEntry.searchUnitResponse.data.length === 1) {\n        return this.$confirm(this.$t('warehouse.orderEntry.lastUnitDeleteConfirmation'), {\n          confirmButtonText: this.$t('common.yes')\n        }).then(function () {\n          _this3.handleDeleteAction(id, true);\n        }).catch(function () {});\n      }\n\n      return this.$confirm(message, {\n        confirmButtonText: this.$t('common.yes')\n      }).then(function () {\n        _this3.handleDeleteAction(id);\n      });\n    },\n    showDeleteButton: function showDeleteButton() {\n      var hasDeletePermission = this.$can(this.permissions.DATA_ENTRY.DELETE_AFTER_CUTOFF_FINALIZED, this.orderEntry.headerUnitList.status) || this.$can(this.permissions.DATA_ENTRY.DELETE_AFTER_CUTOFF_PENDING, this.orderEntry.headerUnitList.status) || this.$can(this.permissions.DATA_ENTRY.DELETE_BEFORE_CUTOFF_FINALIZED, this.orderEntry.headerUnitList.status) || this.$can(this.permissions.DATA_ENTRY.DELETE_BEFORE_CUTOFF_PENDING, this.orderEntry.headerUnitList.status);\n      return hasDeletePermission;\n    }\n  }\n};",{"version":3,"sources":["UnitsDetailDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<span>\n    <i class=\"el-icon-search header-info-dialog-value icon-action\" id=\"btn-units-detail\" @click=\"handleOpenDialog\" size=\"mini\" icon=\"el-icon-plus\"></i>\n    <el-dialog\n    :close-on-click-modal=\"false\"\n    :title=\"$t('warehouse.orderEntry.unitsDetailTitle')\"\n    :visible.sync=\"dialogVisible\"\n    width=\"77%\"\n    :before-close=\"handleClose\">\n    <el-col :span=\"4\">\n      <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.orderNumber') }}:</label>\n    </el-col>\n    <el-col :span=\"4\">\n      <span class=\"span-small-list \"> {{ orderEntry.headerUnitList.orderNumber }} </span>\n    </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.shipDate') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.shipDate | moment(\"MM/DD/YYYY\") }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.consignee') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.consigneeName }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.height') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.height }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.length') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.length }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.width') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.width }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.productLong') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.productCode }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.productDescription') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.productDescription }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.numberOfUnits') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.numberUnits }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.unitOfMeasure') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.unitOfMeasureName }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.measure') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.measure }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.poNumber') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\"> {{ orderEntry.headerUnitList.poNumber }} </span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.status') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\">{{ $t('warehouse.orderEntry.finalized') }}</span>\n      </el-col>\n      <el-col :span=\"4\">\n        <label class=\"margin-bottom-small-list\">{{ $t('warehouse.orderEntry.farmBroker') }}:</label>\n      </el-col>\n      <el-col :span=\"4\">\n        <span class=\"span-small-list\">{{ orderEntry.headerUnitList.farmName }}</span>\n      </el-col>\n      <div>\n        <span class=\"title-list\">{{ $t('warehouse.orderEntry.units') }}</span>\n        <div>\n          <el-col :span=\"3\" class=\"search-unitid-div\">\n            <label class=\"margin-bottom-small-list label-search-unitid\">{{ $t('warehouse.orderEntry.findUnit') }}:</label>\n          </el-col>\n          <el-col :span=\"4\">\n            <div>\n              <el-input\n                v-model=\"search\"\n                v-alphanumeric-validation\n                maxlength=\"50\"\n                clearable\n                @change=\"handleSearchUnit\"\n                class=\"inline-input\"\n                size=\"mini\"\n                suffix-icon=\"el-icon-search\"\n                id=\"search-unitid\"\n                ref=\"search-unitid\"\n                ></el-input>\n            </div>\n          </el-col>\n        </div>\n      </div>\n        <el-table\n          stripe\n          v-loading=\"orderEntry.loadingSearch\"\n          id=\"units-data-list\"\n          size=\"mini\"\n          tooltip-effect=\"dark\"\n          sortable\n          width=\"80%\"\n          class=\"dark-blue-table\"\n          :empty-text=\"$t('common.notAbleToFindRecords')\"\n          :data=\"orderEntry.searchUnitResponse.data\">\n          <el-table-column\n              prop=\"unitId\"\n              :label=\"$t('common.unitID')\"\n              align=\"center\"\n              min-width=\"100\">\n              <template slot-scope=\"scope\">\n                <span class=\"font-size-14px\"> {{ scope.row.unitId }} </span>\n              </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\" min-width=\"100\"\n            :label=\"$t('common.actions')\">\n            <template slot-scope=\"scope\">\n              <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('warehouse.orderEntry.print')\" placement=\"top-start\">\n                <print-unit-label :unitId=\"scope.row.unitId\" :labelPrinted.sync=\"scope.row.labelPrinted\" />\n              </el-tooltip>\n              <el-tooltip class=\"item\" effect=\"dark\" :content=\"$t('warehouse.orderEntry.delete')\" placement=\"top-start\">\n                <i v-if=\"showDeleteButton()\" class=\"el-icon-delete icon-action\" type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row.unitId, scope.row.shipDate, orderEntry.searchUnitResponse.data)\"></i>\n              </el-tooltip>\n            </template>\n          </el-table-column>\n      </el-table>\n      <el-pagination\n        @size-change=\"handleSearchChangeLimit\"\n        @current-change=\"findUnitsByConsignee\"\n        :current-page.sync=\"orderEntry.actualFiltersUnits.page\"\n        :page-size=\"orderEntry.actualFiltersUnits.rows\"\n        :page-sizes=\"sizes\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"orderEntry.searchUnitResponse.totalRows\">\n      </el-pagination>\n    <span slot=\"footer\" class=\"dialog-footer\">\n        &nbsp;\n    </span>\n    </el-dialog>\n</span>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport constants from '@/utils/constants';\nimport PrintUnitLabel from './PrintUnitLabel';\n\nexport default {\n  components: { PrintUnitLabel },\n  computed: {\n    ...mapGetters([\n      'orderEntry'\n    ])\n  },\n  props: {\n    unitsConsolidateId: {\n      type: Number,\n      default: null\n    }\n  },\n  data() {\n    return {\n      dialogVisible: false,\n      sizes: constants.TABLES.DEFAULT_LIMIT_SIZES,\n      search: ''\n    };\n  },\n  methods: {\n    handleClose(done) {\n      this.$store.dispatch('orderEntry/search', {});\n      done();\n    },\n    handleOpenDialog() {\n      this.dialogVisible = true;\n      this.findUnitsByConsignee(constants.TABLES.DEFAULT_PAGE);\n    },\n    handleSearchChangeLimit(val) {\n      this.$store.dispatch('orderEntry/findUnits', { rows: val, page: constants.TABLES.DEFAULT_PAGE });\n    },\n    handleSearchUnit() {\n      this.findUnitsByConsignee(constants.TABLES.DEFAULT_PAGE);\n    },\n    findUnitsByConsignee(page) {\n      const loading = this.$loading(constants.LOADING.DEFAULT_CONFIG);\n      this.$store.dispatch('orderEntry/findUnits', { unitsConsolidateId: this.unitsConsolidateId, unitId: this.search, page }).then(() => {\n        loading.close();\n      }).catch((error) => {\n        this.$message({\n          showClose: true,\n          message: error.response.data.message,\n          type: 'error',\n          duration: constants.duration\n        });\n        loading.close();\n      });\n    },\n    handleDeleteAction(id, close) {\n      const loading = this.$loading(constants.LOADING.DEFAULT_CONFIG);\n      this.$store.dispatch('orderEntry/deleteUnit', id).then((response) => {\n        loading.close();\n        this.$message.success(response.message);\n        this.$store.dispatch('orderEntry/search', {});\n        if (close) {\n          this.dialogVisible = false;\n        } else {\n          this.$store.dispatch('orderEntry/findUnits', { id: this.unitsConsolidateId });\n        }\n      }).catch((error) => {\n        loading.close();\n        this.$message({\n          showClose: true,\n          message: error.response.data.message,\n          type: 'error',\n          duration: constants.MESSAGES.LONG_DURATION\n        });\n      });\n    },\n    handleDelete(id, shipDate) {\n      let message = this.$t('warehouse.orderEntry.unitDeleteConfirmation');\n      message = message.replace('[id]', id).replace('[shipDate]', shipDate);\n\n      if (this.orderEntry.searchUnitResponse.data.length === 1) {\n        return this.$confirm(this.$t('warehouse.orderEntry.lastUnitDeleteConfirmation'), { confirmButtonText: this.$t('common.yes') })\n          .then(() => {\n            this.handleDeleteAction(id, true);\n          })\n          .catch(() => {});\n      }\n      return this.$confirm(message, { confirmButtonText: this.$t('common.yes') })\n        .then(() => {\n          this.handleDeleteAction(id);\n        });\n    },\n    showDeleteButton() {\n      const hasDeletePermission = this.$can(this.permissions.DATA_ENTRY.DELETE_AFTER_CUTOFF_FINALIZED, this.orderEntry.headerUnitList.status)\n           || this.$can(this.permissions.DATA_ENTRY.DELETE_AFTER_CUTOFF_PENDING, this.orderEntry.headerUnitList.status)\n           || this.$can(this.permissions.DATA_ENTRY.DELETE_BEFORE_CUTOFF_FINALIZED, this.orderEntry.headerUnitList.status)\n           || this.$can(this.permissions.DATA_ENTRY.DELETE_BEFORE_CUTOFF_PENDING, this.orderEntry.headerUnitList.status);\n      return hasDeletePermission;\n    }\n  }\n};\n</script>\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n  .search-unitid-div {\n    padding: 0px !important;\n    margin-bottom: 20px !important;\n  }\n\n  .label-search-unitid {\n    text-align: left !important;\n  }\n</style>\n"],"sourceRoot":"src/views/warehouse/orderEntry/components/unitsDetail"}]}