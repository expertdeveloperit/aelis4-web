{"remainingRequest":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/babel-loader/lib/index.js!/home/spineor/Downloads/aelis4-web/vue-client/node_modules/eslint-loader/index.js??ref--13-0!/home/spineor/Downloads/aelis4-web/vue-client/src/store/modules/warehouse/extensionRequest.js","dependencies":[{"path":"/home/spineor/Downloads/aelis4-web/vue-client/src/store/modules/warehouse/extensionRequest.js","mtime":1566389420000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.regexp.search\";\nimport moment from 'moment';\nimport constants from \"../../../utils/constants\";\nimport extensionService from \"../../../api/extensionService\";\nvar searchSection = ['search-section'];\nvar extensionRequest = {\n  namespaced: true,\n  state: {\n    actualFilters: {\n      shipper: '',\n      aelTerminal: null,\n      receivingdate: null,\n      status: null,\n      extensionNo: null,\n      dropdownData: null\n    },\n    loadingSearch: false,\n    filtersOpen: searchSection,\n    shipDatePickerOptions: {\n      disabledDate: function disabledDate(time) {\n        return moment(time.getTime()).isBefore(Date.now(), 'day');\n      }\n    },\n    actualFiltersUnits: {\n      rows: constants.TABLES.DEFAULT_LIMIT,\n      page: constants.TABLES.DEFAULT_PAGE,\n      pageResults: true\n    },\n    searchUnitResponse: {},\n    headerUnitList: {},\n    list: [],\n    total: 0\n  },\n  mutations: {\n    SET_UNIT_DETAILS: function SET_UNIT_DETAILS(state, _ref) {\n      var data = _ref.data,\n          filters = _ref.filters;\n      state.actualFiltersUnits = filters;\n      state.headerUnitList = data.unitsConsolidate;\n      state.searchUnitResponse = data.searchResponse;\n    },\n    SET_LOADING: function SET_LOADING(state, loadingSearch) {\n      state.loadingSearch = loadingSearch;\n    }\n  },\n  actions: {\n    search: function search(_ref2, filters) {\n      var commit = _ref2.commit,\n          state = _ref2.state;\n      commit('SET_LOADING', true);\n      commit('SET_EDIT', false);\n      var filtersUpdated = Object.assign(state.actualFilters, filters);\n      return new Promise(function (resolve, reject) {\n        filtersUpdated.extensionNumber = filtersUpdated.extensionNumber ? filtersUpdated.extensionNumber.trim() : null;\n        filtersUpdated.shipDate = filtersUpdated.shipDate || new Date();\n        extensionService.search(filtersUpdated).then(function (response) {\n          var data = response.data,\n              totalRows = response.totalRows;\n          commit('SET_ORDERS', {\n            ordersList: data,\n            total: totalRows,\n            filters: filtersUpdated\n          });\n          commit('SET_LOADING', false);\n          resolve(data);\n        }).catch(function (error) {\n          commit('SET_ORDERS', [], 0, filtersUpdated);\n          commit('SET_LOADING', false);\n          reject(error);\n        });\n      });\n    },\n    findUnits: function findUnits(_ref3, filters) {\n      var commit = _ref3.commit,\n          state = _ref3.state;\n      commit('SET_LOADING', true);\n      return new Promise(function (resolve, reject) {\n        var filtersToSend = Object.assign(state.actualFiltersUnits, filters);\n        extensionService.findUnits(filtersToSend).then(function (response) {\n          var data = response.data;\n          console.log('Response data', response.data);\n          commit('SET_UNIT_DETAILS', {\n            data: data,\n            filters: filtersToSend\n          });\n          commit('SET_LOADING', false);\n          resolve(response);\n        }).catch(function (error) {\n          commit('SET_UNIT_DETAILS', {\n            data: {},\n            filters: {}\n          });\n          commit('SET_LOADING', false);\n          reject(error);\n        });\n      });\n    }\n  },\n  getWarehouseCodes: function () {\n    var _getWarehouseCodes = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              extensionService.getWarehouse().then(function (response) {\n                return response.data.data;\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function getWarehouseCodes() {\n      return _getWarehouseCodes.apply(this, arguments);\n    }\n\n    return getWarehouseCodes;\n  }()\n};\nexport default extensionRequest;",{"version":3,"sources":["/home/spineor/Downloads/aelis4-web/vue-client/src/store/modules/warehouse/extensionRequest.js"],"names":["moment","constants","extensionService","searchSection","extensionRequest","namespaced","state","actualFilters","shipper","aelTerminal","receivingdate","status","extensionNo","dropdownData","loadingSearch","filtersOpen","shipDatePickerOptions","disabledDate","time","getTime","isBefore","Date","now","actualFiltersUnits","rows","TABLES","DEFAULT_LIMIT","page","DEFAULT_PAGE","pageResults","searchUnitResponse","headerUnitList","list","total","mutations","SET_UNIT_DETAILS","data","filters","unitsConsolidate","searchResponse","SET_LOADING","actions","search","commit","filtersUpdated","Object","assign","Promise","resolve","reject","extensionNumber","trim","shipDate","then","response","totalRows","ordersList","catch","error","findUnits","filtersToSend","console","log","getWarehouseCodes","getWarehouse"],"mappings":"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","sourcesContent":["import moment from 'moment';\r\nimport constants from '../../../utils/constants';\r\nimport extensionService from '../../../api/extensionService';\r\n\r\nconst searchSection = ['search-section'];\r\n\r\nconst extensionRequest = {\r\n  namespaced: true,\r\n  state: {\r\n    actualFilters: {\r\n      shipper: '',\r\n      aelTerminal: null,\r\n      receivingdate: null,\r\n      status: null,\r\n      extensionNo: null,\r\n      dropdownData: null\r\n    },\r\n    loadingSearch: false,\r\n    filtersOpen: searchSection,\r\n    shipDatePickerOptions: {\r\n      disabledDate(time) {\r\n        return moment(time.getTime()).isBefore(Date.now(), 'day');\r\n      }\r\n    },\r\n    actualFiltersUnits: {\r\n      rows: constants.TABLES.DEFAULT_LIMIT,\r\n      page: constants.TABLES.DEFAULT_PAGE,\r\n      pageResults: true\r\n    },\r\n    searchUnitResponse: {},\r\n    headerUnitList: {},\r\n    list: [],\r\n    total: 0\r\n  },\r\n  mutations: {\r\n    SET_UNIT_DETAILS: (state, { data, filters }) => {\r\n      state.actualFiltersUnits = filters;\r\n      state.headerUnitList = data.unitsConsolidate;\r\n      state.searchUnitResponse = data.searchResponse;\r\n    },\r\n    SET_LOADING: (state, loadingSearch) => {\r\n      state.loadingSearch = loadingSearch;\r\n    }\r\n  },\r\n  actions: {\r\n    search({ commit, state }, filters) {\r\n      commit('SET_LOADING', true);\r\n      commit('SET_EDIT', false);\r\n      const filtersUpdated = Object.assign(state.actualFilters, filters);\r\n      return new Promise((resolve, reject) => {\r\n        filtersUpdated.extensionNumber = filtersUpdated.extensionNumber ? filtersUpdated.extensionNumber.trim() : null;\r\n        filtersUpdated.shipDate = filtersUpdated.shipDate || new Date();\r\n        extensionService.search(filtersUpdated).then((response) => {\r\n          const { data, totalRows } = response;\r\n          commit('SET_ORDERS', { ordersList: data, total: totalRows, filters: filtersUpdated });\r\n          commit('SET_LOADING', false);\r\n          resolve(data);\r\n        }).catch((error) => {\r\n          commit('SET_ORDERS', [], 0, filtersUpdated);\r\n          commit('SET_LOADING', false);\r\n          reject(error);\r\n        });\r\n      });\r\n    },\r\n    findUnits({ commit, state }, filters) {\r\n      commit('SET_LOADING', true);\r\n      return new Promise((resolve, reject) => {\r\n        const filtersToSend = Object.assign(state.actualFiltersUnits, filters);\r\n        extensionService.findUnits(filtersToSend).then((response) => {\r\n          const { data } = response;\r\n          console.log('Response data', response.data);\r\n          commit('SET_UNIT_DETAILS', { data, filters: filtersToSend });\r\n          commit('SET_LOADING', false);\r\n          resolve(response);\r\n        }).catch((error) => {\r\n          commit('SET_UNIT_DETAILS', { data: {}, filters: {} });\r\n          commit('SET_LOADING', false);\r\n          reject(error);\r\n        });\r\n      });\r\n    },\r\n  },\r\n  async getWarehouseCodes() {\r\n    extensionService.getWarehouse().then((response) => {\r\n      return response.data.data;\r\n    });\r\n  }\r\n};\r\n\r\nexport default extensionRequest;\r\n"]}]}