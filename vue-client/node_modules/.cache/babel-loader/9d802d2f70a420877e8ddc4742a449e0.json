{"remainingRequest":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/babel-loader/lib/index.js!/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/spineor/Downloads/aelis4-web/vue-client/src/views/warehouse/orderEntry/SearchFilters.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/spineor/Downloads/aelis4-web/vue-client/src/views/warehouse/orderEntry/SearchFilters.vue","mtime":1566297892000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"/home/spineor/Downloads/aelis4-web/vue-client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport constants from '@/utils/constants';\nimport apiConstants from '@/utils/apiConstants';\nimport Autocomplete from '@/components/Autocomplete';\nimport AddConsigneeShipperButton from \"./components/AddConsigneeShipperButton\";\nimport authRoles from '@/utils/auth/roles';\n/**\r\n * Search Filters Component, on Mount Set the first STATE actualFilters for search.\r\n * */\n\nexport default {\n  name: 'SearchFilters',\n  components: {\n    Autocomplete: Autocomplete,\n    AddConsigneeShipperButton: AddConsigneeShipperButton\n  },\n  computed: _objectSpread({}, mapGetters(['orderEntry', 'user'])),\n  data: function data() {\n    return {\n      searchForm: {\n        shipDate: new Date(),\n        status: constants.ORDER_ENTRY.ORDER_STATUS[0].value,\n        createdByUsername: constants.ORDER_ENTRY.CREATED_BY_OPTIONS[0].value,\n        orderNumber: null,\n        consigneeAccountId: null,\n        consigneeName: null,\n        page: constants.TABLES.DEFAULT_PAGE\n      },\n      activeCollapsibleName: ['search-section'],\n      orderStatusOptions: constants.ORDER_ENTRY.ORDER_STATUS,\n      orderCreatedByOptions: constants.ORDER_ENTRY.CREATED_BY_OPTIONS,\n      urlConsignee: apiConstants.END_POINTS.ACCOUNTS.CONSIGNEE_BY_SHIPPER\n    };\n  },\n  methods: {\n    handleSearch: function handleSearch() {\n      var _this = this;\n\n      this.searchForm.consigneeName = this.$refs['filter-consignee'].getLocalModel();\n      this.$store.dispatch('orderEntry/search', this.searchForm).then(function () {\n        _this.$store.dispatch('orderEntry/getCutoffLimitDate');\n      });\n    },\n\n    /* The datepicker has an issue when change manually, the focus lost. */\n    handleChangeDate: function handleChangeDate() {\n      this.handleSearch();\n      this.$refs['filter-status'].focus();\n    }\n  },\n  mounted: function mounted() {\n    var isShipper = this.user.roles.some(function (role) {\n      return authRoles.SHIPPER === role;\n    });\n    this.orderCreatedByOptions[1].value = this.user.name;\n\n    if (isShipper) {\n      // Asign the option myOrders value the name of the current user if user is shipper.\n      this.searchForm.createdByUsername = this.user.name;\n    } // Set the first STATE actualFilters for search.\n\n\n    this.$store.dispatch('orderEntry/setSummaryFilters', this.searchForm);\n  }\n};",{"version":3,"sources":["SearchFilters.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,SAAA,MAAA,mBAAA;AACA,OAAA,YAAA,MAAA,sBAAA;AACA,OAAA,YAAA,MAAA,2BAAA;AACA,OAAA,yBAAA;AACA,OAAA,SAAA,MAAA,oBAAA;AAEA;;;;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,YAAA,EAAA,YAAA;AAAA,IAAA,yBAAA,EAAA;AAAA,GAFA;AAGA,EAAA,QAAA,oBACA,UAAA,CAAA,CACA,YADA,EAEA,MAFA,CAAA,CADA,CAHA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,IAAA,IAAA,EADA;AAEA,QAAA,MAAA,EAAA,SAAA,CAAA,WAAA,CAAA,YAAA,CAAA,CAAA,EAAA,KAFA;AAGA,QAAA,iBAAA,EAAA,SAAA,CAAA,WAAA,CAAA,kBAAA,CAAA,CAAA,EAAA,KAHA;AAIA,QAAA,WAAA,EAAA,IAJA;AAKA,QAAA,kBAAA,EAAA,IALA;AAMA,QAAA,aAAA,EAAA,IANA;AAOA,QAAA,IAAA,EAAA,SAAA,CAAA,MAAA,CAAA;AAPA,OADA;AAUA,MAAA,qBAAA,EAAA,CAAA,gBAAA,CAVA;AAWA,MAAA,kBAAA,EAAA,SAAA,CAAA,WAAA,CAAA,YAXA;AAYA,MAAA,qBAAA,EAAA,SAAA,CAAA,WAAA,CAAA,kBAZA;AAaA,MAAA,YAAA,EAAA,YAAA,CAAA,UAAA,CAAA,QAAA,CAAA;AAbA,KAAA;AAeA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,UAAA,CAAA,aAAA,GAAA,KAAA,KAAA,CAAA,kBAAA,EAAA,aAAA,EAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,KAAA,UAAA,EAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,+BAAA;AACA,OAFA;AAGA,KANA;;AAOA;AACA,IAAA,gBARA,8BAQA;AACA,WAAA,YAAA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,KAAA;AACA;AAXA,GA1BA;AAuCA,EAAA,OAvCA,qBAuCA;AACA,QAAA,SAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,aAAA,SAAA,CAAA,OAAA,KAAA,IAAA;AAAA,KAAA,CAAA;AACA,SAAA,qBAAA,CAAA,CAAA,EAAA,KAAA,GAAA,KAAA,IAAA,CAAA,IAAA;;AACA,QAAA,SAAA,EAAA;AACA;AACA,WAAA,UAAA,CAAA,iBAAA,GAAA,KAAA,IAAA,CAAA,IAAA;AACA,KANA,CAOA;;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,8BAAA,EAAA,KAAA,UAAA;AACA;AAhDA,CAAA","sourcesContent":["<template>\r\n    <el-col :span=\"17\">\r\n        <el-collapse v-model=\"orderEntry.filtersOpen\">\r\n        <el-collapse-item :title=\"$t('warehouse.orderEntry.searchSection')\" name=\"search-section\" id=\"search-section\">\r\n            <el-form :model=\"searchForm\" ref=\"searchForm\" id=\"search-form\" label-position=\"right\" label-width=\"95px\" size=\"mini\" inline >\r\n                <el-form-item :label=\"$t('warehouse.orderEntry.terminal')\">\r\n                    <el-input\r\n                        v-model=\"orderEntry.settings.warehouseCode\"\r\n                        disabled\r\n                        maxlength=\"30\"\r\n                        clearable\r\n                        class=\"inline-input\"\r\n                        id=\"searchForm-aelTerminal\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                    <el-form-item :label=\"$t('warehouse.orderEntry.shipDate')\" prop=\"shipDate\">\r\n                        <el-date-picker\r\n                        ref=\"filter-datepicker\"\r\n                        @change=\"handleChangeDate\"\r\n                        format=\"MM/dd/yyyy\"\r\n                        v-model=\"searchForm.shipDate\"\r\n                        :picker-options=\"orderEntry.shipDatePickerOptions\"\r\n                        :disabled=\"orderEntry.filterShipDateDisabled\"\r\n                        type=\"date\"\r\n                        id=\"searchForm-ship-date\">\r\n                        </el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item :label=\"$t('warehouse.orderEntry.status')\" prop=\"status\">\r\n                        <el-select v-model=\"searchForm.status\" id=\"searchForm-status\" ref=\"filter-status\" @change=\"handleSearch\">\r\n                            <el-option\r\n                            v-for=\"item in orderStatusOptions\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\">\r\n                            </el-option>\r\n                        </el-select>\r\n                     </el-form-item>\r\n                     <el-form-item :label=\"$t('warehouse.orderEntry.orderNumberShort')\" prop=\"orderNumber\">\r\n                            <el-input\r\n                            v-model=\"searchForm.orderNumber\"\r\n                            ref=\"filter-order-number\"\r\n                            v-alphanumeric-validation\r\n                            maxlength=\"25\"\r\n                            clearable\r\n                            @clear=\"handleSearch\"\r\n                            v-on:keyup.enter.native=\"handleSearch\"\r\n                            class=\"inline-input\"\r\n                            id=\"searchForm-order-number\"\r\n                            ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item :label=\"$t('warehouse.orderEntry.consignee')\" prop=\"consigneeAccountId\" class=\"consignee-filter\" >\r\n                        <autocomplete\r\n                           :model.sync=\"searchForm.consigneeAccountId\"\r\n                           :url=\"urlConsignee\"\r\n                           labelField=\"name\"\r\n                           labelFieldLastWithDash=\"number\"\r\n                           :selectAction=\"handleSearch\"\r\n                           :enterKeyAction=\"handleSearch\"\r\n                           :clearAction=\"handleSearch\"\r\n                           :classCss=\"null\"\r\n                           :shipperAccountId=\"orderEntry.settings.shipperAccountId\"\r\n                           valueField=\"id\" id=\"searchForm-consignee\"\r\n                           ref=\"filter-consignee\"/>\r\n                            <el-tooltip class=\"item\" effect=\"dark\" :enterable=\"false\" :content=\"$t('warehouse.orderEntry.addConsignee')\" placement=\"top-start\">\r\n                              <add-consignee-shipper-button />\r\n                            </el-tooltip>\r\n                    </el-form-item>\r\n                    <el-form-item :label=\"$t('warehouse.orderEntry.createdBy')\" prop=\"createdByUsername\">\r\n                        <el-select v-model=\"searchForm.createdByUsername\" id=\"searchForm-createdByUsername\" ref=\"filter-createdByUsername\" @change=\"handleSearch\">\r\n                            <el-option\r\n                            v-for=\"item in orderCreatedByOptions\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <span>\r\n                      <el-tooltip class=\"item\" effect=\"dark\" :enterable=\"false\" :content=\"$t('warehouse.orderEntry.search')\" placement=\"top-start\">\r\n                        <el-button id=\"form-search-button\" @click=\"handleSearch\" icon=\"el-icon-search\" size=\"mini\" class=\"button-action-default\"></el-button>\r\n                      </el-tooltip>\r\n                    </span>\r\n            </el-form>\r\n        </el-collapse-item>\r\n        </el-collapse>\r\n    </el-col>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport constants from '@/utils/constants';\r\nimport apiConstants from '@/utils/apiConstants';\r\nimport Autocomplete from '@/components/Autocomplete';\r\nimport AddConsigneeShipperButton from './components/AddConsigneeShipperButton';\r\nimport authRoles from '@/utils/auth/roles';\r\n\r\n/**\r\n * Search Filters Component, on Mount Set the first STATE actualFilters for search.\r\n * */\r\nexport default {\r\n  name: 'SearchFilters',\r\n  components: { Autocomplete, AddConsigneeShipperButton },\r\n  computed: {\r\n    ...mapGetters([\r\n      'orderEntry',\r\n      'user'\r\n    ])\r\n  },\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        shipDate: new Date(),\r\n        status: constants.ORDER_ENTRY.ORDER_STATUS[0].value,\r\n        createdByUsername: constants.ORDER_ENTRY.CREATED_BY_OPTIONS[0].value,\r\n        orderNumber: null,\r\n        consigneeAccountId: null,\r\n        consigneeName: null,\r\n        page: constants.TABLES.DEFAULT_PAGE\r\n      },\r\n      activeCollapsibleName: ['search-section'],\r\n      orderStatusOptions: constants.ORDER_ENTRY.ORDER_STATUS,\r\n      orderCreatedByOptions: constants.ORDER_ENTRY.CREATED_BY_OPTIONS,\r\n      urlConsignee: apiConstants.END_POINTS.ACCOUNTS.CONSIGNEE_BY_SHIPPER\r\n    };\r\n  },\r\n  methods: {\r\n    handleSearch() {\r\n      this.searchForm.consigneeName = this.$refs['filter-consignee'].getLocalModel();\r\n      this.$store.dispatch('orderEntry/search', this.searchForm).then(() => {\r\n        this.$store.dispatch('orderEntry/getCutoffLimitDate');\r\n      });\r\n    },\r\n    /* The datepicker has an issue when change manually, the focus lost. */\r\n    handleChangeDate() {\r\n      this.handleSearch();\r\n      this.$refs['filter-status'].focus();\r\n    }\r\n  },\r\n  mounted() {\r\n    const isShipper = this.user.roles.some(role => (authRoles.SHIPPER === role));\r\n    this.orderCreatedByOptions[1].value = this.user.name;\r\n    if (isShipper) {\r\n      // Asign the option myOrders value the name of the current user if user is shipper.\r\n      this.searchForm.createdByUsername = this.user.name;\r\n    }\r\n    // Set the first STATE actualFilters for search.\r\n    this.$store.dispatch('orderEntry/setSummaryFilters', this.searchForm);\r\n  }\r\n};\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\">\r\n#search-form {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    .consignee-filter {\r\n        width: 65%;\r\n        white-space: nowrap;\r\n        .el-form-item__content {\r\n            width: calc(100% - 95px);\r\n            .el-autocomplete {\r\n              width: calc(100% - 54px);\r\n            }\r\n        }\r\n    }\r\n    .el-date-editor {\r\n      width: 140px;\r\n    }\r\n    .inline-input {\r\n      width: 140px;\r\n    }\r\n    .el-select {\r\n      width: 140px;\r\n    }\r\n    #form-search-button {\r\n      margin-right: 10px;\r\n    }\r\n}\r\n@media only screen and (min-width: 1680px) {\r\n#search-form {\r\n    .consignee-filter {\r\n        width: 725px;\r\n        .el-form-item__content {\r\n            width: 80%;\r\n        }\r\n    }\r\n}\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/warehouse/orderEntry"}]}