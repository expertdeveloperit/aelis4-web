(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd6a847e"],{"7a5d":function(e,s,a){e.exports=a.p+"img/upload-icon.0b5ac41c.png"},8284:function(e,s,a){"use strict";var t=a("8f56"),l=a.n(t);l.a},"8f56":function(e,s,a){},9014:function(e,s,a){"use strict";var t=a("956c"),l=a.n(t);l.a},9063:function(e,s,a){"use strict";var t=a("95cb"),l=a.n(t);l.a},"956c":function(e,s,a){},"95cb":function(e,s,a){},e96b:function(e,s,a){e.exports=a.p+"img/loading.c5590569.svg"},ecea:function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("div",{staticClass:"app-view-container upload-container"},[a("div",{staticClass:"app-view-title"},[e._v(e._s(e.$t("uploadXmlFiles.uploadShipmentTitle"))+"\n    "),a("el-popover",{staticClass:"explanation-popover",attrs:{placement:"bottom",title:e.$t("uploadXmlFiles.explanation"),width:"200",trigger:"click",content:e.$t("uploadXmlFiles.explanationText")}},[a("i",{staticClass:"el-icon-question",attrs:{slot:"reference"},slot:"reference"})])],1),a("el-collapse",{staticClass:"explanation-container",model:{value:e.activeCollapsibleName,callback:function(s){e.activeCollapsibleName=s},expression:"activeCollapsibleName"}},[a("el-collapse-item",{attrs:{title:e.$t("uploadXmlFiles.explanation"),name:"explanation",id:"explanation"}},[a("div",[e._v(e._s(e.$t("uploadXmlFiles.explanationText")))])])],1),a("upload-response",{staticClass:"upload-response"})],1),a("upload-drop")],1)},l=[],o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"upload-drop-container",class:{"upload-drop-container-mini":e.isMinimized,"upload-drop-container-max":!e.isMinimized}},[t("div",{staticClass:"upload-template-info"},[t("i",{staticClass:"el-icon-info red-armellini"}),e._v(" \n    "),t("span",{staticClass:"font-gray info-text"},[e._v(" "+e._s(e.$t("uploadXmlFiles.youCanDownload"))+"  ")]),t("a",{staticClass:"red-link-bold",attrs:{id:"xml-upload-download-template-link",href:e.templateExampleUrl,download:""}},[e._v(" "+e._s(e.$t("uploadXmlFiles.here"))+" ")])]),e.processing?t("span",{staticClass:"xml-loading",attrs:{id:"xml-loading"}},[t("img",{class:{"padding-left_28":e.actualFileProcessed},attrs:{src:a("e96b"),alt:"loading"}})]):e._e(),t("div",{staticClass:"upload-dropzone-area",class:{"upload-dropzone-area-mini":e.isMinimized,"upload-dropzone-area-max":!e.isMinimized},on:{click:e.handleOpenSearchFile}},[e.actualFileProcessed?t("i",{staticClass:"collapse-drop-zone el-icon-arrow-right",attrs:{id:"collapse-drop-zone"},on:{click:function(s){return s.stopPropagation(),e.handleMinimized(s)}}}):e._e(),t("el-upload",{ref:"upload",staticClass:"upload-xml",attrs:{id:"upload-xml",drag:"","show-file-list":!1,action:e.url,headers:e.headers,"on-success":e.handleSuccess,"on-progress":e.handleProgress,"on-error":e.handleError,"before-upload":e.handleBeforeUpload,limit:1,accept:".xml"}},[t("div",{staticClass:"upload-icon-container"},[t("img",{staticClass:"upload-icon",attrs:{src:a("7a5d"),alt:"upload-icon"}}),e.isMinimized?e._e():t("el-progress",{attrs:{type:"circle",percentage:e.uploadProgress,"show-text":!1}})],1),t("div",{staticClass:"el-upload__text"},[t("div",{staticClass:"drag-and-drop-text"},[e._v(" "+e._s(e.$t("uploadXmlFiles.dragAndDrop"))+" ")]),e._v(" "+e._s(e.$t("uploadXmlFiles.yourFilesOr"))+" "),t("em",[e._v(e._s(e.$t("uploadXmlFiles.browse")))])])])],1)])},i=[],n=(a("7f7f"),a("cebc")),r=a("4436"),p=a("2f62"),d={name:"UploadDrop",computed:Object(n["a"])({},Object(p["b"])(["user"])),data:function(){return{isMinimized:!1,uploadProgress:0,processing:!1,actualFileProcessed:!1,url:"",templateExampleUrl:"",headers:{}}},mounted:function(){this.url="".concat("http://aelis4-server-913239114.us-east-1.elb.amazonaws.com/api","/data-entry/shipment/upload"),this.templateExampleUrl="".concat("https://s3.amazonaws.com/aelis4-assets-dev/","xml-upload-template.xml"),this.headers.Authorization="Bearer ".concat(r["a"].accessToken),this.headers.shipperAccountNumber=this.user.shipperAccountNumber},methods:{handleSuccess:function(e,s){this.$store.dispatch("SetUploadXmlResponse",Object(n["a"])({},e,{fileName:s.name})),this.isMinimized=!0,this.processing=!1,this.actualFileProcessed=!0,this.$refs.upload.clearFiles()},handleOpenSearchFile:function(){this.isMinimized=!1,this.uploadProgress=0},handleMinimized:function(){this.isMinimized=!this.isMinimized},handleProgress:function(e,s,a){this.processing||(this.processing=!0),this.uploadProgress=a[0].percentage},handleError:function(){this.processing=!1,this.$message.error(this.$t("common.errorServer"))},handleBeforeUpload:function(e){var s="text/xml"===e.type,a=e.size/1024/1024<=5;return s||this.$message.error(this.$t("uploadXmlFiles.errorExtension")),a||this.$message.error(this.$t("uploadXmlFiles.fileSizeExceed")),s&&a}}},c=d,u=(a("9063"),a("2877")),m=Object(u["a"])(c,o,i,!1,null,null,null),h=m.exports,f=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("el-collapse",{directives:[{name:"show",rawName:"v-show",value:e.uploadXmlResponse.activeElement.length,expression:"uploadXmlResponse.activeElement.length"}],model:{value:e.uploadXmlResponse.activeElement,callback:function(s){e.$set(e.uploadXmlResponse,"activeElement",s)},expression:"uploadXmlResponse.activeElement"}},[a("el-collapse-item",{attrs:{title:e.$t("uploadXmlFiles.xmlResponse"),name:"xml-upload-response-collapsible",id:"xml-upload-response-collapsible"}},[a("div",{staticClass:"header-response",attrs:{id:"header-response"}},[a("span",{staticClass:"response-field"},[e._v(e._s(e.$t("common.orderNumberShort"))+": "+e._s(e.uploadXmlResponse.header.orderNumber))]),a("span",{staticClass:"response-field"},[e._v(e._s(e.$t("common.shipdate"))+": "+e._s(e.uploadXmlResponse.header.shipdate))]),a("span",{staticClass:"response-field"},[e._v(e._s(e.$t("common.shipper"))+": "+e._s(e.uploadXmlResponse.header.shipper))]),a("span",{staticClass:"response-field"},[e._v(e._s(e.$t("common.unitsInFile"))+": "+e._s(e.uploadXmlResponse.header.totalUnitsInFile))]),a("span",{staticClass:"response-field"},[e._v(e._s(e.$t("common.unitsSuccess"))+": "+e._s(e.uploadXmlResponse.header.totalUnitsSuccess))]),a("span",{staticClass:"response-field"},[e._v(e._s(e.$t("common.unitsDuplicates"))+": "+e._s(e.uploadXmlResponse.header.totalUnitsDuplicates))]),a("span",{staticClass:"response-field"},[e._v(e._s(e.$t("common.unitsDiscrepancy"))+": "+e._s(e.uploadXmlResponse.header.totalUnitsDiscrepancy))])]),a("div",{staticClass:"header-response-message",attrs:{id:"header-response-message"}},[e.uploadXmlResponse.header.errorMessage?a("div",[a("i",{staticClass:"el-icon-warning yellow-warning"}),e._v("   "),a("span",[e._v(e._s(e.uploadXmlResponse.header.errorMessage))])]):e._e(),e.uploadXmlResponse.details.length||e.uploadXmlResponse.header.errorMessage||!e.uploadXmlResponse.header.fileName?e._e():a("div",[a("i",{staticClass:"el-icon-success green-success"}),e._v(" "),a("span",[e._v(e._s(e.$t("uploadXmlFiles.uploadSuccess")))])])]),e.uploadXmlResponse.details.length?a("el-table",{staticClass:"xml-table-response-data",attrs:{id:"response-data",size:"mini",height:"100%","tooltip-effect":"dark",sortable:"",data:e.uploadXmlResponse.details}},[a("el-table-column",{attrs:{prop:"consignee",width:"400",label:e.$t("common.consigneeAccount")},scopedSlots:e._u([{key:"default",fn:function(s){return[a("span",[e._v(" "+e._s(s.row.consignee_name)+" - "+e._s(s.row.consignee))])]}}])}),a("el-table-column",{attrs:{prop:"unitsFailed",width:"100",label:e.$t("uploadXmlFiles.failedUnits")}}),a("el-table-column",{attrs:{prop:"unitFailedDetail.unitID[0]",width:"250",label:e.$t("uploadXmlFiles.unitIds")},scopedSlots:e._u([{key:"default",fn:function(s){return[1===s.row.unitFailedDetail.unitID.length?a("span",[e._v(e._s(s.row.unitFailedDetail.unitID[0]))]):[a("el-popover",{attrs:{placement:"right",width:"100",trigger:"hover"}},[a("el-table",{attrs:{data:s.row.unitFailedDetail.unitID,"max-height":"500"}},[a("el-table-column",{attrs:{width:"300",label:e.$t("uploadXmlFiles.unitIds")},scopedSlots:e._u([{key:"default",fn:function(s){return[e._v("\n                                        "+e._s(s.row)+"\n                                    ")]}}])})],1),a("el-button",{staticClass:"pop-over-unitIds-error",attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v(e._s(s.row.unitFailedDetail.unitID[0])+"...")])],1)]]}}])}),a("el-table-column",{attrs:{prop:"message",label:e.$t("common.message")}})],1):e._e()],1)],1)],1)},v=[],_={name:"UploadResponse",computed:Object(n["a"])({},Object(p["b"])(["uploadXmlResponse"])),data:function(){return{}},beforeDestroy:function(){this.$store.dispatch("clearXmlResponse")}},g=_,b=(a("8284"),Object(u["a"])(g,f,v,!1,null,null,null)),x=b.exports,X={name:"UploadXml",components:{UploadDrop:h,UploadResponse:x},data:function(){return{activeCollapsibleName:["explanation"]}}},C=X,$=(a("9014"),Object(u["a"])(C,t,l,!1,null,null,null));s["default"]=$.exports}}]);
//# sourceMappingURL=chunk-bd6a847e.dac476ea.js.map